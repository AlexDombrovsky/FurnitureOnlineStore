@model List<FurnitureOnlineStore.Models.Products.OrderViewModel>

@{ int total = 0; }

<div class="container py-5">
    <div class="small-container cart-page">
        <table>
            <tr>
                <th>Produs</th>
                <th>Cantitate</th>
                <th>Subtotal</th>
            </tr>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <div class="cart-info">
                            <img src="@item.Product.Photos.FirstOrDefault()?.Path" />
                            <div>
                                <p>@item.Product.Name</p>
                                <small>$@item.Product.Price</small>
                            </div>
                        </div>
                    </td>
                    <td>@item.Quantity</td>
                    <td>$@item.SubTotal</td>
                </tr>
                total += item.SubTotal;
            }
        </table>
        @if (Model.Count > 0)
        {
            <div class="total-price">
                <table>
                    <tr>
                        <td>Total</td>
                        <td>$@total</td>
                    </tr>
                </table>
            </div>
        }
        else
        {
            <div class="text-center py-5">
                <div class="col-lg-6 m-auto">
                    <h1 class="h1">Coșul este gol</h1>
                </div>
            </div>
        }
    </div>
</div>